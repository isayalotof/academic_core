openapi: 3.0.3
info:
  title: University Schedule Gateway API
  description: |
    API Gateway –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞.
    
    ## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
    
    - üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT)
    - üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏, —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏, –≥—Ä—É–ø–ø–∞–º–∏
    - üè´ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏—è–º–∏ –∏ –∑–¥–∞–Ω–∏—è–º–∏
    - üìÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é LLM-–∞–≥–µ–Ω—Ç–∞ (GigaChat)
    - ‚≠ê –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–ª–æ—Ç–∞–º
    - üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —ç–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (Excel, PDF, iCal)
    - üìö –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–±–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
    
    ## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
    
    –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:
    - **ms-auth**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
    - **ms-core**: –ë–∞–∑–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, –≥—Ä—É–ø–ø—ã, —Å—Ç—É–¥–µ–Ω—Ç—ã, –Ω–∞–≥—Ä—É–∑–∫–∞)
    - **ms-audit**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏—è–º–∏
    - **ms-agent**: LLM-–∞–≥–µ–Ω—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
    - **ms-schedule**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏ —ç–∫—Å–ø–æ—Ä—Ç
    
    ## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    
    –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
    ```
    Authorization: Bearer <access_token>
    ```
    
    –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `/api/auth/login` –∏–ª–∏ `/api/auth/register`.
  version: 1.0.0
  contact:
    name: University Schedule Team
    email: support@university.edu
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:8000
    description: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
  - url: https://api.university.edu
    description: Production —Å–µ—Ä–≤–µ—Ä

tags:
  - name: auth
    description: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - name: classrooms
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏—è–º–∏
  - name: agent
    description: LLM-–∞–≥–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  - name: Schedule
    description: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —ç–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  - name: teachers
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏
  - name: groups
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
  - name: students
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏
  - name: course-loads
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–±–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
  - name: preferences
    description: –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
  - name: system
    description: –°–∏—Å—Ç–µ–º–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

paths:
  /health:
    get:
      tags:
        - system
      summary: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
      operationId: healthCheck
      responses:
        '200':
          description: –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: healthy
                  version:
                    type: string
                    example: "1.0.0"
                  environment:
                    type: string
                    example: production
                  services:
                    type: object
                    properties:
                      ms-auth:
                        type: string
                        example: healthy
                      ms-audit:
                        type: string
                        example: healthy
                      ms-agent:
                        type: string
                        example: healthy
                      ms-core:
                        type: string
                        example: healthy
                      ms-schedule:
                        type: string
                        example: healthy

  /:
    get:
      tags:
        - system
      summary: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ
      operationId: root
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ gateway
          content:
            application/json:
              schema:
                type: object
                properties:
                  service:
                    type: string
                    example: University Schedule Gateway
                  version:
                    type: string
                    example: "1.0.0"
                  docs:
                    type: string
                    example: /docs
                  health:
                    type: string
                    example: /health

  /api/auth/register:
    post:
      tags:
        - auth
      summary: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: |
        –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã.
        
        –î–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏).
      operationId: register
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
            examples:
              admin:
                summary: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                value:
                  username: admin
                  email: admin@university.edu
                  password: Admin123!
                  full_name: System Administrator
                  primary_role: admin
              teacher:
                summary: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
                value:
                  username: teacher1
                  email: teacher1@university.edu
                  password: Teacher123!
                  full_name: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á
                  primary_role: teacher
                  teacher_id: 1
                  phone: "+7 (123) 456-78-90"
              student:
                summary: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞
                value:
                  username: student1
                  email: student1@university.edu
                  password: Student123!
                  full_name: –ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á
                  primary_role: student
                  student_group_id: 1
      responses:
        '201':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          description: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/auth/login:
    post:
      tags:
        - auth
      summary: –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
      description: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤
      operationId: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
            example:
              username: admin
              password: Admin123!
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          description: –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/auth/refresh:
    post:
      tags:
        - auth
      summary: –û–±–Ω–æ–≤–∏—Ç—å access token
      description: –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π access token –∏—Å–ø–æ–ª—å–∑—É—è refresh token
      operationId: refreshToken
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refresh_token
              properties:
                refresh_token:
                  type: string
                  example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
      responses:
        '200':
          description: –¢–æ–∫–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  tokens:
                    $ref: '#/components/schemas/TokenPair'
                  message:
                    type: string
        '401':
          description: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π refresh token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/auth/logout:
    post:
      tags:
        - auth
      summary: –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
      description: –û—Ç–æ–∑–≤–∞—Ç—å refresh token (—Ç—Ä–µ–±—É–µ—Ç—Å—è access token)
      operationId: logout
      security:
        - bearerAuth: []
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω—ã–π –≤—ã—Ö–æ–¥
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Logged out successfully
        '401':
          description: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/auth/me:
    get:
      tags:
        - auth
      summary: –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
      operationId: getCurrentUser
      security:
        - bearerAuth: []
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  user:
                    $ref: '#/components/schemas/User'
        '401':
          description: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/auth/validate:
    post:
      tags:
        - auth
      summary: –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω
      description: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å access token
      operationId: validateToken
      security:
        - bearerAuth: []
      responses:
        '200':
          description: –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏
          content:
            application/json:
              schema:
                type: object
                properties:
                  valid:
                    type: boolean
                    example: true
                  user_id:
                    type: integer
                    example: 1
                  username:
                    type: string
                    example: admin
                  role:
                    type: string
                    example: admin
                  roles:
                    type: array
                    items:
                      type: string
                    example: ["admin", "staff"]
                  message:
                    type: string

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT —Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ /api/auth/login –∏–ª–∏ /api/auth/register

  schemas:
    RegisterRequest:
      type: object
      required:
        - username
        - email
        - password
        - full_name
        - primary_role
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 50
          example: teacher1
        email:
          type: string
          format: email
          example: teacher1@university.edu
        password:
          type: string
          minLength: 8
          example: Teacher123!
        full_name:
          type: string
          minLength: 2
          maxLength: 200
          example: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á
        phone:
          type: string
          nullable: true
          example: "+7 (123) 456-78-90"
        primary_role:
          type: string
          enum: [student, teacher, staff, admin]
          example: teacher
        teacher_id:
          type: integer
          nullable: true
          description: ID –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ primary_role = teacher)
          example: 1
        student_group_id:
          type: integer
          nullable: true
          description: ID –≥—Ä—É–ø–ø—ã (–µ—Å–ª–∏ primary_role = student)
          example: 1

    LoginRequest:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
          example: admin
        password:
          type: string
          example: Admin123!

    TokenPair:
      type: object
      properties:
        access_token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        refresh_token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        expires_in:
          type: integer
          description: –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ access token –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
          example: 900
        token_type:
          type: string
          example: Bearer

    User:
      type: object
      properties:
        id:
          type: integer
          example: 1
        username:
          type: string
          example: teacher1
        email:
          type: string
          example: teacher1@university.edu
        full_name:
          type: string
          example: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á
        phone:
          type: string
          nullable: true
          example: "+7 (123) 456-78-90"
        role:
          type: string
          description: –û—Å–Ω–æ–≤–Ω–∞—è —Ä–æ–ª—å
          example: teacher
        roles:
          type: array
          items:
            type: string
          example: ["teacher", "staff"]
        is_active:
          type: boolean
          example: true
        is_verified:
          type: boolean
          example: false

    AuthResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        user:
          $ref: '#/components/schemas/User'
        tokens:
          $ref: '#/components/schemas/TokenPair'
        message:
          type: string
          example: Registration successful

    ErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          example: Invalid credentials
        detail:
          type: string
          nullable: true
          example: Username or password is incorrect

    CreateClassroomRequest:
      type: object
      required:
        - name
        - code
        - building_id
        - floor
        - capacity
        - classroom_type
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
          example: "–ê—É–¥–∏—Ç–æ—Ä–∏—è 101"
        code:
          type: string
          minLength: 1
          maxLength: 20
          example: "101"
        building_id:
          type: integer
          minimum: 1
          example: 1
        floor:
          type: integer
          example: 1
        wing:
          type: string
          nullable: true
          maxLength: 50
        capacity:
          type: integer
          minimum: 1
          example: 30
        actual_area:
          type: number
          nullable: true
          minimum: 0
          example: 50.5
        classroom_type:
          type: string
          example: "lecture"
        has_projector:
          type: boolean
          default: false
        has_whiteboard:
          type: boolean
          default: false
        has_computers:
          type: boolean
          default: false
        computers_count:
          type: integer
          default: 0
        is_accessible:
          type: boolean
          default: true
        description:
          type: string
          nullable: true

    UpdateClassroomRequest:
      type: object
      properties:
        updates:
          type: object
          additionalProperties: true
          example:
            capacity: 35
            has_projector: true

    ReserveClassroomRequest:
      type: object
      required:
        - classroom_id
        - day_of_week
        - time_slot
        - discipline_name
      properties:
        classroom_id:
          type: integer
          minimum: 1
        day_of_week:
          type: integer
          minimum: 1
          maximum: 6
          example: 2
        time_slot:
          type: integer
          minimum: 1
          maximum: 6
          example: 3
        schedule_id:
          type: integer
          nullable: true
        discipline_name:
          type: string
          example: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞"
        teacher_name:
          type: string
          nullable: true
        group_name:
          type: string
          nullable: true
        lesson_type:
          type: string
          nullable: true

    Classroom:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: "–ê—É–¥–∏—Ç–æ—Ä–∏—è 101"
        code:
          type: string
          example: "101"
        building_id:
          type: integer
          example: 1
        building_name:
          type: string
          example: "–ì–ª–∞–≤–Ω—ã–π –∫–æ—Ä–ø—É—Å"
        floor:
          type: integer
          example: 1
        capacity:
          type: integer
          example: 30
        classroom_type:
          type: string
          example: "lecture"
        has_projector:
          type: boolean
          example: true
        has_computers:
          type: boolean
          example: false
        is_accessible:
          type: boolean
          example: true

    GenerateScheduleRequest:
      type: object
      required:
        - semester
      properties:
        semester:
          type: integer
          minimum: 1
          maximum: 2
          example: 1
          description: –ù–æ–º–µ—Ä —Å–µ–º–µ—Å—Ç—Ä–∞ (1 –∏–ª–∏ 2)
        max_iterations:
          type: integer
          minimum: 1
          maximum: 500
          default: 100
          description: –ú–∞–∫—Å–∏–º—É–º –∏—Ç–µ—Ä–∞—Ü–∏–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        skip_stage1:
          type: boolean
          default: false
          description: –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å Stage 1 (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ)
        skip_stage2:
          type: boolean
          default: false
          description: –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å Stage 2 (–±–µ–∑ –∞—É–¥–∏—Ç–æ—Ä–∏–π)

    GenerationStatus:
      type: object
      properties:
        job_id:
          type: string
          example: "550e8400-e29b-41d4-a716-446655440000"
        status:
          type: string
          enum: [running, completed, failed, stopped]
          example: "running"
        stage:
          type: integer
          example: 1
        current_iteration:
          type: integer
          example: 45
        max_iterations:
          type: integer
          example: 100
        current_score:
          type: integer
          example: 850
        best_score:
          type: integer
          example: 920
        progress_percentage:
          type: number
          format: float
          example: 45.0
        last_reasoning:
          type: string
          nullable: true
          example: "Swapped lessons to reduce gaps"

    ScheduleItem:
      type: object
      properties:
        id:
          type: integer
        course_load_id:
          type: integer
        day_of_week:
          type: integer
          minimum: 1
          maximum: 6
        time_slot:
          type: integer
          minimum: 1
          maximum: 6
        classroom_id:
          type: integer
          nullable: true
        classroom_name:
          type: string
          nullable: true
        teacher_id:
          type: integer
        teacher_name:
          type: string
        group_id:
          type: integer
        group_name:
          type: string
        discipline_name:
          type: string
        lesson_type:
          type: string

    Lesson:
      type: object
      properties:
        id:
          type: integer
        day_of_week:
          type: integer
        time_slot:
          type: integer
        discipline_name:
          type: string
        teacher_name:
          type: string
        group_name:
          type: string
        classroom_name:
          type: string
          nullable: true
        lesson_type:
          type: string

    CreateTeacherRequest:
      type: object
      required:
        - full_name
        - employment_type
      properties:
        full_name:
          type: string
          minLength: 1
          maxLength: 200
          example: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
        first_name:
          type: string
          nullable: true
          maxLength: 100
        last_name:
          type: string
          nullable: true
          maxLength: 100
        middle_name:
          type: string
          nullable: true
          maxLength: 100
        email:
          type: string
          format: email
          nullable: true
        phone:
          type: string
          nullable: true
          maxLength: 20
        employment_type:
          type: string
          enum: [external, graduate, internal, staff]
          example: "external"
        position:
          type: string
          nullable: true
          example: "–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä"
        academic_degree:
          type: string
          nullable: true
          example: "–î–æ–∫—Ç–æ—Ä –Ω–∞—É–∫"
        department:
          type: string
          nullable: true
          example: "–ö–∞—Ñ–µ–¥—Ä–∞ –ü–ò–≤–ö–î"
        hire_date:
          type: string
          format: date
          nullable: true

    UpdateTeacherRequest:
      type: object
      properties:
        full_name:
          type: string
          nullable: true
        email:
          type: string
          format: email
          nullable: true
        phone:
          type: string
          nullable: true
        employment_type:
          type: string
          nullable: true
          enum: [external, graduate, internal, staff]
        position:
          type: string
          nullable: true
        department:
          type: string
          nullable: true
        is_active:
          type: boolean
          nullable: true

    Teacher:
      type: object
      properties:
        id:
          type: integer
          example: 1
        full_name:
          type: string
          example: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
        email:
          type: string
          nullable: true
        phone:
          type: string
          nullable: true
        employment_type:
          type: string
          example: "external"
        priority:
          type: integer
          minimum: 1
          maximum: 4
          example: 1
          description: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–∑ employment_type
        position:
          type: string
          nullable: true
        department:
          type: string
          nullable: true
        is_active:
          type: boolean
          example: true

    TeacherPreference:
      type: object
      properties:
        id:
          type: integer
        teacher_id:
          type: integer
        day_of_week:
          type: integer
          minimum: 1
          maximum: 6
        time_slot:
          type: integer
          minimum: 1
          maximum: 6
        is_preferred:
          type: boolean
          description: true = —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è, false = –Ω–µ—É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è
        preference_strength:
          type: string
          nullable: true
          enum: [strong, medium, weak]
        reason:
          type: string
          nullable: true

    SetPreferencesRequest:
      type: object
      required:
        - preferences
      properties:
        preferences:
          type: array
          items:
            type: object
            required:
              - day_of_week
              - time_slot
              - is_preferred
            properties:
              day_of_week:
                type: integer
                minimum: 1
                maximum: 6
              time_slot:
                type: integer
                minimum: 1
                maximum: 6
              is_preferred:
                type: boolean
              preference_strength:
                type: string
                nullable: true
              reason:
                type: string
                nullable: true
        replace_existing:
          type: boolean
          default: false

    CreateGroupRequest:
      type: object
      required:
        - name
        - year
        - semester
        - level
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
          example: "–ü–ò–≤–ö–î-41"
        short_name:
          type: string
          nullable: true
          maxLength: 20
        year:
          type: integer
          minimum: 1
          maximum: 6
          example: 4
        semester:
          type: integer
          minimum: 1
          maximum: 2
          example: 1
        program_code:
          type: string
          nullable: true
          example: "09.03.04"
        program_name:
          type: string
          nullable: true
          example: "–ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è"
        specialization:
          type: string
          nullable: true
        level:
          type: string
          enum: [bachelor, master, phd]
          example: "bachelor"
        curator_teacher_id:
          type: integer
          nullable: true

    UpdateGroupRequest:
      type: object
      properties:
        name:
          type: string
          nullable: true
        year:
          type: integer
          nullable: true
          minimum: 1
          maximum: 6
        level:
          type: string
          nullable: true
          enum: [bachelor, master, phd]
        is_active:
          type: boolean
          nullable: true

    Group:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: "–ü–ò–≤–ö–î-41"
        year:
          type: integer
          example: 4
        semester:
          type: integer
          example: 1
        size:
          type: integer
          example: 25
        level:
          type: string
          example: "bachelor"
        program_name:
          type: string
          nullable: true
        is_active:
          type: boolean
          example: true

    CreateStudentRequest:
      type: object
      required:
        - full_name
        - student_number
        - group_id
      properties:
        full_name:
          type: string
          minLength: 1
          maxLength: 200
          example: "–ü–µ—Ç—Ä–æ–≤ –ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á"
        first_name:
          type: string
          nullable: true
        last_name:
          type: string
          nullable: true
        student_number:
          type: string
          minLength: 1
          maxLength: 50
          example: "2024-123456"
        group_id:
          type: integer
          minimum: 1
        email:
          type: string
          format: email
          nullable: true
        phone:
          type: string
          nullable: true
        status:
          type: string
          enum: [active, academic_leave, expelled, graduated]
          default: "active"

    UpdateStudentRequest:
      type: object
      properties:
        full_name:
          type: string
          nullable: true
        student_number:
          type: string
          nullable: true
        group_id:
          type: integer
          nullable: true
        email:
          type: string
          format: email
          nullable: true
        status:
          type: string
          nullable: true
          enum: [active, academic_leave, expelled, graduated]

    Student:
      type: object
      properties:
        id:
          type: integer
          example: 1
        full_name:
          type: string
          example: "–ü–µ—Ç—Ä–æ–≤ –ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á"
        student_number:
          type: string
          example: "2024-123456"
        group_id:
          type: integer
          example: 1
        group_name:
          type: string
          nullable: true
          example: "–ü–ò–≤–ö–î-41"
        email:
          type: string
          nullable: true
        status:
          type: string
          example: "active"

    CreateCourseLoadRequest:
      type: object
      required:
        - teacher_id
        - group_id
        - discipline_id
        - semester
        - academic_year
        - hours_per_semester
      properties:
        teacher_id:
          type: integer
          minimum: 1
        group_id:
          type: integer
          minimum: 1
        discipline_id:
          type: integer
          minimum: 1
        semester:
          type: integer
          minimum: 1
          maximum: 2
        academic_year:
          type: string
          example: "2024/2025"
        hours_per_semester:
          type: integer
          minimum: 1
        lesson_type:
          type: string
          enum: [lecture, practice, lab, seminar]
          default: "lecture"
        classroom_requirements:
          type: string
          nullable: true

    CourseLoad:
      type: object
      properties:
        id:
          type: integer
        teacher_id:
          type: integer
        teacher_name:
          type: string
        group_id:
          type: integer
        group_name:
          type: string
        discipline_id:
          type: integer
        discipline_name:
          type: string
        semester:
          type: integer
        academic_year:
          type: string
        hours_per_semester:
          type: integer
        lessons_per_week:
          type: integer
        lesson_type:
          type: string

  /api/classrooms:
    get:
      tags:
        - classrooms
      summary: –°–ø–∏—Å–æ–∫ –∞—É–¥–∏—Ç–æ—Ä–∏–π
      description: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞—É–¥–∏—Ç–æ—Ä–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
      operationId: listClassrooms
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: page_size
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: search
          in: query
          schema:
            type: string
          description: –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
        - name: building_ids
          in: query
          schema:
            type: string
          description: ID –∑–¥–∞–Ω–∏–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
        - name: classroom_types
          in: query
          schema:
            type: string
          description: –¢–∏–ø—ã –∞—É–¥–∏—Ç–æ—Ä–∏–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
        - name: min_capacity
          in: query
          schema:
            type: integer
            minimum: 1
        - name: max_capacity
          in: query
          schema:
            type: integer
            minimum: 1
        - name: sort_by
          in: query
          schema:
            type: string
            default: name
        - name: sort_order
          in: query
          schema:
            type: string
            enum: [ASC, DESC]
            default: ASC
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –∞—É–¥–∏—Ç–æ—Ä–∏–π
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  classrooms:
                    type: array
                    items:
                      $ref: '#/components/schemas/Classroom'
                  total_count:
                    type: integer
                    example: 150
                  page:
                    type: integer
                    example: 1
                  page_size:
                    type: integer
                    example: 20

    post:
      tags:
        - classrooms
      summary: –°–æ–∑–¥–∞—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é
      description: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å staff –∏–ª–∏ admin)
      operationId: createClassroom
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateClassroomRequest'
      responses:
        '201':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  classroom:
                    $ref: '#/components/schemas/Classroom'
        '400':
          description: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

  /api/classrooms/{classroom_id}:
    get:
      tags:
        - classrooms
      summary: –ü–æ–ª—É—á–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é –ø–æ ID
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—É–¥–∏—Ç–æ—Ä–∏–∏
      operationId: getClassroom
      parameters:
        - name: classroom_id
          in: path
          required: true
          schema:
            type: integer
            minimum: 1
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—É–¥–∏—Ç–æ—Ä–∏–∏
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  classroom:
                    $ref: '#/components/schemas/Classroom'
        '404':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

    put:
      tags:
        - classrooms
      summary: –û–±–Ω–æ–≤–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é
      description: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å staff –∏–ª–∏ admin)
      operationId: updateClassroom
      security:
        - bearerAuth: []
      parameters:
        - name: classroom_id
          in: path
          required: true
          schema:
            type: integer
            minimum: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateClassroomRequest'
      responses:
        '200':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  classroom:
                    $ref: '#/components/schemas/Classroom'
        '403':
          description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
        '404':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

    delete:
      tags:
        - classrooms
      summary: –£–¥–∞–ª–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é
      description: –£–¥–∞–ª–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å staff –∏–ª–∏ admin)
      operationId: deleteClassroom
      security:
        - bearerAuth: []
      parameters:
        - name: classroom_id
          in: path
          required: true
          schema:
            type: integer
            minimum: 1
        - name: hard_delete
          in: query
          schema:
            type: boolean
            default: false
          description: –§–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
      responses:
        '200':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
        '403':
          description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
        '404':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

  /api/classrooms/code/{code}:
    get:
      tags:
        - classrooms
      summary: –ü–æ–ª—É—á–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é –ø–æ –∫–æ–¥—É
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –ø–æ –µ—ë –∫–æ–¥—É
      operationId: getClassroomByCode
      parameters:
        - name: code
          in: path
          required: true
          schema:
            type: string
          example: "101"
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—É–¥–∏—Ç–æ—Ä–∏–∏
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  classroom:
                    $ref: '#/components/schemas/Classroom'
        '404':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

  /api/classrooms/available/search:
    get:
      tags:
        - classrooms
      summary: –ù–∞–π—Ç–∏ —Å–≤–æ–±–æ–¥–Ω—ã–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
      description: –ü–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∞—É–¥–∏—Ç–æ—Ä–∏–π –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
      operationId: findAvailableClassrooms
      parameters:
        - name: day_of_week
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 6
          description: –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (1-6)
        - name: time_slot
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 6
          description: –ù–æ–º–µ—Ä –ø–∞—Ä—ã (1-6)
        - name: min_capacity
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: need_projector
          in: query
          schema:
            type: boolean
            default: false
        - name: need_whiteboard
          in: query
          schema:
            type: boolean
            default: false
        - name: need_computers
          in: query
          schema:
            type: boolean
            default: false
        - name: building_ids
          in: query
          schema:
            type: string
          description: ID –∑–¥–∞–Ω–∏–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
        - name: classroom_types
          in: query
          schema:
            type: string
          description: –¢–∏–ø—ã –∞—É–¥–∏—Ç–æ—Ä–∏–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∞—É–¥–∏—Ç–æ—Ä–∏–π
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  classrooms:
                    type: array
                    items:
                      $ref: '#/components/schemas/Classroom'
                  total:
                    type: integer
                    example: 5

  /api/classrooms/{classroom_id}/availability:
    get:
      tags:
        - classrooms
      summary: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏
      description: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
      operationId: checkAvailability
      parameters:
        - name: classroom_id
          in: path
          required: true
          schema:
            type: integer
            minimum: 1
        - name: day_of_week
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 6
        - name: time_slot
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 6
      responses:
        '200':
          description: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  available:
                    type: boolean
                    example: true
                  message:
                    type: string

  /api/classrooms/reserve:
    post:
      tags:
        - classrooms
      summary: –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é
      description: –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å staff –∏–ª–∏ admin)
      operationId: reserveClassroom
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReserveClassroomRequest'
      responses:
        '200':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
        '400':
          description: –ê—É–¥–∏—Ç–æ—Ä–∏—è –∑–∞–Ω—è—Ç–∞ –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        '403':
          description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

  /api/classrooms/{classroom_id}/schedule:
    get:
      tags:
        - classrooms
      summary: –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π –≤ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
      operationId: getClassroomSchedule
      parameters:
        - name: classroom_id
          in: path
          required: true
          schema:
            type: integer
            minimum: 1
        - name: days
          in: query
          schema:
            type: string
          description: –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (1-6)
      responses:
        '200':
          description: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  schedule:
                    type: array
                    items:
                      type: object

  /api/classrooms/statistics/overall:
    get:
      tags:
        - classrooms
      summary: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞—É–¥–∏—Ç–æ—Ä–∏—è–º
      description: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–π
      operationId: getClassroomStatistics
      parameters:
        - name: classroom_id
          in: query
          schema:
            type: integer
        - name: building_id
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  statistics:
                    type: object

  /api/agent/generate:
    post:
      tags:
        - agent
      summary: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
      description: |
        –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é LLM-–∞–≥–µ–Ω—Ç–∞.
        
        –ü—Ä–æ—Ü–µ—Å—Å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —ç—Ç–∞–ø–æ–≤:
        - **Stage 1**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ (–¥–µ–Ω—å + –≤—Ä–µ–º—è)
        - **Stage 2**: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–π
        
        –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å staff –∏–ª–∏ admin.
      operationId: generateSchedule
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateScheduleRequest'
      responses:
        '200':
          description: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  job_id:
                    type: string
                    example: "550e8400-e29b-41d4-a716-446655440000"
                  message:
                    type: string
                    example: "Schedule generation started"
        '400':
          description: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        '403':
          description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

  /api/agent/status/{job_id}:
    get:
      tags:
        - agent
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
      description: –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
      operationId: getGenerationStatus
      parameters:
        - name: job_id
          in: path
          required: true
          schema:
            type: string
          example: "550e8400-e29b-41d4-a716-446655440000"
      responses:
        '200':
          description: –°—Ç–∞—Ç—É—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  generation:
                    $ref: '#/components/schemas/GenerationStatus'
        '404':
          description: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

  /api/agent/upload-loads:
    post:
      tags:
        - agent
      summary: –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫–∏ –∏–∑ Excel
      description: |
        –ó–∞–≥—Ä—É–∑–∏—Ç—å —É—á–µ–±–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏–∑ Excel —Ñ–∞–π–ª–∞.
        
        –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏:
        - –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
        - –ì—Ä—É–ø–ø–∞
        - –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞
        - –ß–∞—Å–æ–≤ –≤ —Å–µ–º–µ—Å—Ç—Ä
        - –¢–∏–ø –∑–∞–Ω—è—Ç–∏—è
        
        –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å staff –∏–ª–∏ admin.
      operationId: uploadCourseLoads
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - file
                - semester
                - academic_year
              properties:
                file:
                  type: string
                  format: binary
                  description: Excel —Ñ–∞–π–ª (.xlsx –∏–ª–∏ .xls)
                semester:
                  type: integer
                  minimum: 1
                  maximum: 2
                  description: –ù–æ–º–µ—Ä —Å–µ–º–µ—Å—Ç—Ä–∞
                academic_year:
                  type: string
                  description: –£—á–µ–±–Ω—ã–π –≥–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "2024/2025")
      responses:
        '200':
          description: –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  total_loaded:
                    type: integer
                    example: 150
                  message:
                    type: string
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
        '403':
          description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

  /api/agent/schedule:
    get:
      tags:
        - agent
      summary: –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
      description: –ü–æ–ª—É—á–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
      operationId: getSchedule
      parameters:
        - name: generation_id
          in: query
          schema:
            type: integer
          description: ID –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        - name: only_active
          in: query
          schema:
            type: boolean
            default: true
          description: –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
      responses:
        '200':
          description: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  total_count:
                    type: integer
                    example: 500
                  schedules:
                    type: array
                    items:
                      $ref: '#/components/schemas/ScheduleItem'

  /api/schedule/group/{group_id}:
    get:
      tags:
        - Schedule
      summary: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
      description: –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≥—Ä—É–ø–ø—ã
      operationId: getGroupSchedule
      parameters:
        - name: group_id
          in: path
          required: true
          schema:
            type: integer
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
          example: "2024/2025"
        - name: day_of_week
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 6
          description: –§–∏–ª—å—Ç—Ä –ø–æ –¥–Ω—é –Ω–µ–¥–µ–ª–∏ (1-6)
        - name: week_type
          in: query
          schema:
            type: string
            enum: [odd, even, both]
          description: –¢–∏–ø –Ω–µ–¥–µ–ª–∏
      responses:
        '200':
          description: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  group_id:
                    type: integer
                    example: 1
                  semester:
                    type: integer
                    example: 1
                  academic_year:
                    type: string
                    example: "2024/2025"
                  lessons:
                    type: array
                    items:
                      $ref: '#/components/schemas/Lesson'
                  total_count:
                    type: integer
                    example: 30

  /api/schedule/teacher/{teacher_id}:
    get:
      tags:
        - Schedule
      summary: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      description: –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      operationId: getTeacherSchedule
      parameters:
        - name: teacher_id
          in: path
          required: true
          schema:
            type: integer
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
          example: "2024/2025"
        - name: day_of_week
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 6
        - name: week_type
          in: query
          schema:
            type: string
            enum: [odd, even, both]
      responses:
        '200':
          description: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  teacher_id:
                    type: integer
                    example: 1
                  semester:
                    type: integer
                    example: 1
                  academic_year:
                    type: string
                    example: "2024/2025"
                  lessons:
                    type: array
                    items:
                      $ref: '#/components/schemas/Lesson'
                  total_count:
                    type: integer
                    example: 20

  /api/schedule/classroom/{classroom_id}:
    get:
      tags:
        - Schedule
      summary: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
      description: –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏
      operationId: getClassroomScheduleView
      parameters:
        - name: classroom_id
          in: path
          required: true
          schema:
            type: integer
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
          example: "2024/2025"
        - name: day_of_week
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 6
        - name: week_type
          in: query
          schema:
            type: string
            enum: [odd, even, both]
      responses:
        '200':
          description: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  classroom_id:
                    type: integer
                    example: 1
                  semester:
                    type: integer
                    example: 1
                  academic_year:
                    type: string
                    example: "2024/2025"
                  lessons:
                    type: array
                    items:
                      $ref: '#/components/schemas/Lesson'
                  total_count:
                    type: integer
                    example: 25

  /api/schedule/export/group/{group_id}/excel:
    get:
      tags:
        - Schedule
      summary: –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã –≤ Excel
      description: –°–∫–∞—á–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Excel
      operationId: exportGroupToExcel
      parameters:
        - name: group_id
          in: path
          required: true
          schema:
            type: integer
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
          example: "2024/2025"
      responses:
        '200':
          description: Excel —Ñ–∞–π–ª
          content:
            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:
              schema:
                type: string
                format: binary

  /api/schedule/export/group/{group_id}/pdf:
    get:
      tags:
        - Schedule
      summary: –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã –≤ PDF
      description: –°–∫–∞—á–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF
      operationId: exportGroupToPdf
      parameters:
        - name: group_id
          in: path
          required: true
          schema:
            type: integer
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
          example: "2024/2025"
      responses:
        '200':
          description: PDF —Ñ–∞–π–ª
          content:
            application/pdf:
              schema:
                type: string
                format: binary

  /api/schedule/export/group/{group_id}/ical:
    get:
      tags:
        - Schedule
      summary: –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã –≤ iCal
      description: –°–∫–∞—á–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ iCal (–¥–ª—è Google Calendar, Apple Calendar)
      operationId: exportGroupToIcal
      parameters:
        - name: group_id
          in: path
          required: true
          schema:
            type: integer
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
          example: "2024/2025"
      responses:
        '200':
          description: iCal —Ñ–∞–π–ª
          content:
            text/calendar:
              schema:
                type: string
                format: binary

  /api/schedule/export/teacher/{teacher_id}/excel:
    get:
      tags:
        - Schedule
      summary: –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –≤ Excel
      description: –°–∫–∞—á–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ Excel
      operationId: exportTeacherToExcel
      parameters:
        - name: teacher_id
          in: path
          required: true
          schema:
            type: integer
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
          example: "2024/2025"
      responses:
        '200':
          description: Excel —Ñ–∞–π–ª
          content:
            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:
              schema:
                type: string
                format: binary

  /api/schedule/search:
    get:
      tags:
        - Schedule
      summary: –ü–æ–∏—Å–∫ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏
      description: –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º –¥–∏—Å—Ü–∏–ø–ª–∏–Ω, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ –≥—Ä—É–ø–ø
      operationId: searchSchedule
      parameters:
        - name: query
          in: query
          required: true
          schema:
            type: string
            minLength: 2
          description: –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
          example: "2024/2025"
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
      responses:
        '200':
          description: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  query:
                    type: string
                    example: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞"
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Lesson'
                  total_count:
                    type: integer
                    example: 15

  /api/teachers:
    get:
      tags:
        - teachers
      summary: –°–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
      description: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
      operationId: listTeachers
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: page_size
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: employment_type
          in: query
          schema:
            type: string
            enum: [external, graduate, internal, staff]
          description: –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –∑–∞–Ω—è—Ç–æ—Å—Ç–∏
        - name: department
          in: query
          schema:
            type: string
          description: –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ñ–µ–¥—Ä–µ
        - name: only_active
          in: query
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
          content:
            application/json:
              schema:
                type: object
                properties:
                  teachers:
                    type: array
                    items:
                      $ref: '#/components/schemas/Teacher'
                  total_count:
                    type: integer
                    example: 100
                  page:
                    type: integer
                    example: 1
                  page_size:
                    type: integer
                    example: 50

    post:
      tags:
        - teachers
      summary: –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      description: |
        –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è.
        
        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è priority –Ω–∞ –æ—Å–Ω–æ–≤–µ employment_type:
        - external ‚Üí priority = 1 (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
        - graduate ‚Üí priority = 2
        - internal ‚Üí priority = 3
        - staff ‚Üí priority = 4
      operationId: createTeacher
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTeacherRequest'
      responses:
        '201':
          description: –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  teacher:
                    $ref: '#/components/schemas/Teacher'
                  message:
                    type: string
                    example: Teacher created successfully

  /api/teachers/{teacher_id}:
    get:
      tags:
        - teachers
      summary: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      description: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ –ø–æ ID
      operationId: getTeacher
      security:
        - bearerAuth: []
      parameters:
        - name: teacher_id
          in: path
          required: true
          schema:
            type: integer
        - name: include_preferences
          in: query
          schema:
            type: boolean
            default: false
          description: –í–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Teacher'
        '404':
          description: –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

    put:
      tags:
        - teachers
      summary: –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      description: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ
      operationId: updateTeacher
      security:
        - bearerAuth: []
      parameters:
        - name: teacher_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTeacherRequest'
      responses:
        '200':
          description: –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–ª—ë–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
        '404':
          description: –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

    delete:
      tags:
        - teachers
      summary: –£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      description: –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç is_active = false)
      operationId: deleteTeacher
      security:
        - bearerAuth: []
      parameters:
        - name: teacher_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—ë–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string

  /api/teachers/search:
    get:
      tags:
        - teachers
      summary: –ü–æ–∏—Å–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
      description: –ü–æ–∏—Å–∫ –ø–æ –§–ò–û, email, –∫–∞—Ñ–µ–¥—Ä–µ
      operationId: searchTeachers
      security:
        - bearerAuth: []
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
            minLength: 2
          description: –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  teachers:
                    type: array
                    items:
                      $ref: '#/components/schemas/Teacher'
                  query:
                    type: string
                    example: "–ò–≤–∞–Ω–æ–≤"
                  total_found:
                    type: integer
                    example: 5

  /api/teachers/{teacher_id}/preferences:
    get:
      tags:
        - preferences
      summary: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      description: |
        ‚≠ê –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–ª–æ—Ç–∞–º.
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        - –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ –¥–Ω—è–º –∏ –ø–∞—Ä–∞–º
        - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (coverage, preferred/not_preferred count)
      operationId: getTeacherPreferences
      security:
        - bearerAuth: []
      parameters:
        - name: teacher_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
          content:
            application/json:
              schema:
                type: object
                properties:
                  teacher_id:
                    type: integer
                    example: 1
                  teacher_name:
                    type: string
                    example: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
                  teacher_priority:
                    type: integer
                    example: 1
                  preferences:
                    type: array
                    items:
                      $ref: '#/components/schemas/TeacherPreference'
                  statistics:
                    type: object
                    properties:
                      total_preferences:
                        type: integer
                        example: 12
                      preferred_count:
                        type: integer
                        example: 8
                      not_preferred_count:
                        type: integer
                        example: 4
                      coverage_percentage:
                        type: number
                        format: float
                        example: 33.33

    post:
      tags:
        - preferences
      summary: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      description: |
        ‚≠ê –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–ª–æ—Ç–∞–º.
        
        –≠—Ç–æ KEY ENDPOINT –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è!
        
        –ü—Ä–∏–º–µ—Ä:
        - day_of_week: 1-6 (–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫-–°—É–±–±–æ—Ç–∞)
        - time_slot: 1-6 (–Ω–æ–º–µ—Ä –ø–∞—Ä—ã)
        - is_preferred: true = —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è, false = –Ω–µ—É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è
      operationId: setTeacherPreferences
      security:
        - bearerAuth: []
      parameters:
        - name: teacher_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetPreferencesRequest'
      responses:
        '200':
          description: –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  created_count:
                    type: integer
                    example: 5
                  updated_count:
                    type: integer
                    example: 2
                  deleted_count:
                    type: integer
                    example: 0
                  message:
                    type: string

    delete:
      tags:
        - preferences
      summary: –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      description: –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
      operationId: clearTeacherPreferences
      security:
        - bearerAuth: []
      parameters:
        - name: teacher_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –æ—á–∏—â–µ–Ω—ã
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string

  /api/preferences/grid:
    get:
      tags:
        - preferences
      summary: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –≤ –≤–∏–¥–µ –º–∞—Ç—Ä–∏—Ü—ã 6√ó6:
        - null: –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
        - true: —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è
        - false: –Ω–µ—É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è
      operationId: getPreferencesGrid
      security:
        - bearerAuth: []
      parameters:
        - name: teacher_id
          in: query
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –°–µ—Ç–∫–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
          content:
            application/json:
              schema:
                type: object
                properties:
                  teacher_id:
                    type: integer
                    example: 1
                  teacher_name:
                    type: string
                    example: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
                  grid:
                    type: array
                    items:
                      type: array
                      items:
                        type: boolean
                        nullable: true
                    description: –ú–∞—Ç—Ä–∏—Ü–∞ 6√ó6 (–¥–Ω–∏ √ó –ø–∞—Ä—ã)
                  legend:
                    type: object
                    properties:
                      days:
                        type: array
                        items:
                          type: string
                        example: ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞", "–°—É–±–±–æ—Ç–∞"]
                      slots:
                        type: array
                        items:
                          type: string
                        example: ["1 –ø–∞—Ä–∞", "2 –ø–∞—Ä–∞", "3 –ø–∞—Ä–∞", "4 –ø–∞—Ä–∞", "5 –ø–∞—Ä–∞", "6 –ø–∞—Ä–∞"]

  /api/groups:
    get:
      tags:
        - groups
      summary: –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
      description: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
      operationId: listGroups
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: page_size
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: year
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 6
          description: –§–∏–ª—å—Ç—Ä –ø–æ –∫—É—Ä—Å—É
        - name: level
          in: query
          schema:
            type: string
            enum: [bachelor, master, phd]
          description: –§–∏–ª—å—Ç—Ä –ø–æ —É—Ä–æ–≤–Ω—é
        - name: only_active
          in: query
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
          content:
            application/json:
              schema:
                type: object
                properties:
                  groups:
                    type: array
                    items:
                      $ref: '#/components/schemas/Group'
                  total_count:
                    type: integer
                    example: 50
                  page:
                    type: integer
                    example: 1
                  page_size:
                    type: integer
                    example: 50

    post:
      tags:
        - groups
      summary: –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
      description: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É
      operationId: createGroup
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGroupRequest'
      responses:
        '201':
          description: –ì—Ä—É–ø–ø–∞ —Å–æ–∑–¥–∞–Ω–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  group:
                    $ref: '#/components/schemas/Group'
                  message:
                    type: string
                    example: Group created successfully

  /api/groups/{group_id}:
    get:
      tags:
        - groups
      summary: –ü–æ–ª—É—á–∏—Ç—å –≥—Ä—É–ø–ø—É
      description: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥—Ä—É–ø–ø–µ –ø–æ ID
      operationId: getGroup
      security:
        - bearerAuth: []
      parameters:
        - name: group_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥—Ä—É–ø–ø–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
        '404':
          description: –ì—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

    put:
      tags:
        - groups
      summary: –û–±–Ω–æ–≤–∏—Ç—å –≥—Ä—É–ø–ø—É
      description: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥—Ä—É–ø–ø–µ
      operationId: updateGroup
      security:
        - bearerAuth: []
      parameters:
        - name: group_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateGroupRequest'
      responses:
        '200':
          description: –ì—Ä—É–ø–ø–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
        '404':
          description: –ì—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

    delete:
      tags:
        - groups
      summary: –£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É
      description: –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç is_active = false)
      operationId: deleteGroup
      security:
        - bearerAuth: []
      parameters:
        - name: group_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ì—Ä—É–ø–ø–∞ —É–¥–∞–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string

  /api/groups/{group_id}/students:
    get:
      tags:
        - groups
      summary: –°—Ç—É–¥–µ–Ω—Ç—ã –≥—Ä—É–ø–ø—ã
      description: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã
      operationId: getGroupStudents
      security:
        - bearerAuth: []
      parameters:
        - name: group_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
          content:
            application/json:
              schema:
                type: object
                properties:
                  group_id:
                    type: integer
                    example: 1
                  students:
                    type: array
                    items:
                      $ref: '#/components/schemas/Student'
                  total_count:
                    type: integer
                    example: 25

  /api/students:
    get:
      tags:
        - students
      summary: –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
      description: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
      operationId: listStudents
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: page_size
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: group_id
          in: query
          schema:
            type: integer
        - name: status
          in: query
          schema:
            type: string
            enum: [active, academic_leave, expelled, graduated]
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
          content:
            application/json:
              schema:
                type: object
                properties:
                  students:
                    type: array
                    items:
                      $ref: '#/components/schemas/Student'
                  total_count:
                    type: integer
                    example: 500

    post:
      tags:
        - students
      summary: –°–æ–∑–¥–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
      operationId: createStudent
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateStudentRequest'
      responses:
        '201':
          description: –°—Ç—É–¥–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  student:
                    $ref: '#/components/schemas/Student'

  /api/students/{student_id}:
    get:
      tags:
        - students
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
      operationId: getStudent
      security:
        - bearerAuth: []
      parameters:
        - name: student_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—É–¥–µ–Ω—Ç–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Student'

    put:
      tags:
        - students
      summary: –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
      operationId: updateStudent
      security:
        - bearerAuth: []
      parameters:
        - name: student_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateStudentRequest'
      responses:
        '200':
          description: –°—Ç—É–¥–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—ë–Ω

    delete:
      tags:
        - students
      summary: –£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
      operationId: deleteStudent
      security:
        - bearerAuth: []
      parameters:
        - name: student_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –°—Ç—É–¥–µ–Ω—Ç —É–¥–∞–ª—ë–Ω

  /api/students/search:
    get:
      tags:
        - students
      summary: –ü–æ–∏—Å–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
      operationId: searchStudents
      security:
        - bearerAuth: []
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
            minLength: 2
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  students:
                    type: array
                    items:
                      $ref: '#/components/schemas/Student'

  /api/course-loads:
    get:
      tags:
        - course-loads
      summary: –°–ø–∏—Å–æ–∫ —É—á–µ–±–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
      operationId: listCourseLoads
      security:
        - bearerAuth: []
      parameters:
        - name: semester
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          schema:
            type: string
        - name: teacher_id
          in: query
          schema:
            type: integer
        - name: group_id
          in: query
          schema:
            type: integer
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: page_size
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –Ω–∞–≥—Ä—É–∑–∫–∏
          content:
            application/json:
              schema:
                type: object
                properties:
                  course_loads:
                    type: array
                    items:
                      $ref: '#/components/schemas/CourseLoad'

    post:
      tags:
        - course-loads
      summary: –°–æ–∑–¥–∞—Ç—å —É—á–µ–±–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É
      operationId: createCourseLoad
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCourseLoadRequest'
      responses:
        '201':
          description: –ù–∞–≥—Ä—É–∑–∫–∞ —Å–æ–∑–¥–∞–Ω–∞

  /api/course-loads/import:
    post:
      tags:
        - course-loads
      summary: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –∏–∑ Excel
      operationId: importCourseLoads
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - file
                - semester
                - academic_year
              properties:
                file:
                  type: string
                  format: binary
                semester:
                  type: integer
                  minimum: 1
                  maximum: 2
                academic_year:
                  type: string
      responses:
        '202':
          description: –ò–º–ø–æ—Ä—Ç –∑–∞–ø—É—â–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  batch_id:
                    type: string
                  message:
                    type: string

  /api/course-loads/import/{batch_id}:
    get:
      tags:
        - course-loads
      summary: –°—Ç–∞—Ç—É—Å –∏–º–ø–æ—Ä—Ç–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
      operationId: getImportStatus
      security:
        - bearerAuth: []
      parameters:
        - name: batch_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: –°—Ç–∞—Ç—É—Å –∏–º–ø–æ—Ä—Ç–∞
          content:
            application/json:
              schema:
                type: object
                properties:
                  batch_id:
                    type: string
                  status:
                    type: string
                    enum: [processing, completed, failed]
                  total_rows:
                    type: integer
                  successful_rows:
                    type: integer
                  failed_rows:
                    type: integer
                  errors:
                    type: array
                    items:
                      type: string

  /api/course-loads/{load_id}:
    delete:
      tags:
        - course-loads
      summary: –£–¥–∞–ª–∏—Ç—å —É—á–µ–±–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É
      operationId: deleteCourseLoad
      security:
        - bearerAuth: []
      parameters:
        - name: load_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ù–∞–≥—Ä—É–∑–∫–∞ —É–¥–∞–ª–µ–Ω–∞

  /api/course-loads/summary:
    get:
      tags:
        - course-loads
      summary: –°–≤–æ–¥–∫–∞ –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ
      operationId: getCourseLoadsSummary
      security:
        - bearerAuth: []
      parameters:
        - name: semester
          in: query
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 2
        - name: academic_year
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: –°–≤–æ–¥–∫–∞ –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  semester:
                    type: integer
                  academic_year:
                    type: string
                  total_hours:
                    type: integer
                  teachers_count:
                    type: integer
                  groups_count:
                    type: integer
                  disciplines_count:
                    type: integer
                  by_lesson_type:
                    type: object

